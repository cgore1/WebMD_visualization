<!doctype html>
<meta charset="utf-8">

<script src="js/d3.min.js"></script>
<script src="js/d3plus.js"></script>

<div id="viz"></div>

<script>
d3.csv("webmd.csv", function(error, data) {

var topics =  [];

data.forEach(function (d) {
		var topic = d.topicid.replace('-questions', '');
		if(topics.indexOf(topic) === -1)
		{
			topics.push(topic);
		}
		//console.log(d.topicid);
     });
	 
	console.log(topics.length);
	
	var connections = [];
	
	for(var i=1; i<100; i++)
	{
		var w = Math.random();
		if(w > 0.5)
		{
			var link = {};
			link['source'] = topics[i % 11];
			link['target'] = topics[100 + i];
			link['strength'] = w;
			
			connections.push(link);
		}
	}
		
	/*var connections = [
    {"source": "alpha", "target": "beta", "strength": 1.25},
    {"source": "alpha", "target": "gamma", "strength": 2.463},
    {"source": "beta", "target": "delta", "strength": 0.823},
    {"source": "beta", "target": "epsilon", "strength": 1.563},
    {"source": "zeta", "target": "gamma", "strength": 3.125},
    {"source": "theta", "target": "gamma", "strength": 0.732},
    {"source": "eta", "target": "gamma", "strength": 2.063}
  ]*/
  var visualization = d3plus.viz()
    .container("#viz")
    .type("rings")
    .edges({
      "size": "strength",
      "value": connections
    })
    //.focus("exercise-questions")
    .draw()

});

</script>